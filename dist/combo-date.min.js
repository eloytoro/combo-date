angular.module("combo-date",[]).provider("ComboDate",function(){var e=this;this.templateUrl="combo-date/templates/combo-date.html",this.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.labels={day:"Día",month:"Mes",year:"Año"},this.$get=function(){return{templateUrl:e.templateUrl,months:e.months.map(function(e,t){return{label:e,index:t}}),labels:e.labels}}}).directive("comboDate",["ComboDate",function(e){return{restrict:"E",require:"ngModel",replace:!0,scope:{min:"=?",max:"=?"},templateUrl:e.templateUrl,link:function(t,n,o,a){t.years=[];for(var l=t.min||1900,r=t.max||moment().year(),s=l;r>=s;s++)t.years.unshift(s);t.labels=e.labels,t.months=e.months,t.days=[];for(var s=1;31>=s;s++)t.days.push(s);a.$render=function(){var e=a.$viewValue;e&&(e=moment(e).utc(),isNaN(e)||(t.selectedDay=e.date(),t.selectedMonth=e.month(),t.selectedYear=e.year(),a.$commitViewValue()))},t.pick=function(){a.$setValidity("date",function(){if(void 0===t.selectedDay||void 0===t.selectedMonth||void 0===t.selectedYear)return!1;var e=moment({year:t.selectedYear,month:t.selectedMonth+1,date:0}).date();e<t.selectedDay&&(t.selectedDay=e);var n=moment({year:t.selectedYear,month:t.selectedMonth,day:t.selectedDay}).utc();return isNaN(n.valueOf())?!1:(a.$setViewValue(n),a.$commitViewValue(),!0)}())},a.$formatters.push(function(e){return e?moment(e).utc():void 0})}}}]),angular.module("combo-date").run(["$templateCache",function(e){e.put("combo-date/templates/combo-date.html",'<div class="form-group combo-date">\n    <div class="text-left form-inline">\n        <div class="form-group">\n            <select class="form-control"\n                ng-options="day for day in days"\n                ng-change="pick()"\n                ng-model="selectedDay">\n                <option value="">D&iacute;a</option>\n            </select>\n        </div>\n        <div class="form-group">\n            <select class="form-control"\n                ng-options="month.index as month.label for month in months"\n                ng-change="pick()"\n                ng-model="selectedMonth">\n                <option value="">Mes</option>\n            </select>\n        </div>\n        <div class="form-group">\n            <select class="form-control"\n                ng-options="year for year in years"\n                ng-change="pick()"\n                ng-model="selectedYear">\n                <option value="">A&ntilde;o</option>\n            </select>\n        </div>\n    </div>\n</div>\n')}]);